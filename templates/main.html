<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/main.css">
    <title>Instagram</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        $(document).ready(function () {
            show_post();
        });
        function show_post(){
            $.ajax({
                type: "GET",
                url: "/main",
                data: {},
                success: function('data'){     //전체 게시글 정보
                let data = data;

                let temp_html =``
                for (let i=0; i < data.length; i++){
                    let nickname = ???
                    let profile_img = ???;
                    let post_img = ???;
                    let like_cnt = ???;
                    let post_comment = ???;
                    temp_html=`
                <div id="post-container">
                <div class="post-wrapper">
                    <div class="post-header">
                        <div class="left-wrapper">
                            <img src="${profile_img}"/>
                            <p>${nickname}</p>
                        </div>
                        <div class="right-wrapper">
                            <img src="../static/image/more@3x.png">
                        </div>
                    </div>
                    <div class="post-body">
                        <img src="${post_img}">
                        <div class="post-icons-wrapper">
                            <div class="left-wrapper">
                                <img class="post-icon" id="like_img" src="../static/image/like@3x.png">
                                <img class="post-icon-2" src="../static/image/comment@3x.png">
                                <img class="post-icon" src="../static/image/dm@3x.png">
                            </div>
                            <div class="right-wrapper">
                                <img src="../static/image/favorite@3x.png">
                            </div>
                        </div>
                    </div>
                    <div class="post-footer">
                        <div class="post-like-wrapper">
                            <img src="https://cdn.topstarnews.net/news/photo/201811/526783_192798_1141.jpg">
                            <p><strong>이용자</strong>님 <strong>외 <span id="like_cnt">${like_cnt}명</span></strong>이 좋아합니다</p>
                        </div>
                        <div class="post-content-wrapper">
                            <p class="post-author">${nickname}</p>
                            <p class="post-content">${post_comment}</p>
                        </div>

                    </div>
                </div>
            </div>
                `
                    $("#container").append(temp_html)
                }
            }
        })

        }
    // function like_up(){
    //     let cur_like_cnt = $('#like_cnt')
    //     let temp_html = ``
    //     $.ajax({
    //             type: 'POST',
    //             url: '/main',
    //             data: { like_cnt:cur_like_cnt+1},
    //             success: function (response) {
    //                 window.location.reload()
    //                 temp_html=`${cur_like_cnt+1}
    //                 `
    //                 $('#like_cnt').empty()
    //                 $('#like_cnt').append(temp_html)
    //                 $('#like_cnt').attr('src', ../static/image/like2.png)
    //             }
    //         });
    // }
    </script>
</head>
<body>
    <div id="main">
        <div id="header">
            <img class="header-icon" src="../static/image/comment@3x.png" />
            <img id="logo" src="../static/image/insta-logo.png" />
            <img class="header-icon" src="../static/image/dm@3x.png" />
        </div>
        <div id="container">
            <div id="post-container">
                <div class="post-wrapper">
                    <div class="post-header">
                        <div class="left-wrapper">
                            <img src="https://cdn.topstarnews.net/news/photo/201811/526783_192798_1141.jpg"/>
                            <p>0~0</p>
                        </div>
                        <div class="right-wrapper">
                            <img src="../static/image/more@3x.png">
                        </div>
                    </div>
                    <div class="post-body">
                        <img src="https://cdn.topstarnews.net/news/photo/201811/526783_192798_1141.jpg">
                        <div class="post-icons-wrapper">
                            <div class="left-wrapper">
                                <img onclick="like_up()" class="post-icon" src="../static/image/like@3x.png">
                                <img class="post-icon-2" src="../static/image/comment@3x.png">
                                <img class="post-icon" src="../static/image/dm@3x.png">
                            </div>
                            <div class="right-wrapper">
                                <img src="../static/image/favorite@3x.png">
                            </div>
                        </div>
                    </div>
                    <div class="post-footer">
                        <div class="post-like-wrapper">
                            <img src="https://cdn.topstarnews.net/news/photo/201811/526783_192798_1141.jpg">
                            <p><strong>이용자</strong>님 <span id="like_cnt">7,585명</span>이 좋아합니다</p>
                        </div>
                        <div class="post-content-wrapper">
                            <p class="post-author">0~0</p>
                            <p class="post-content">test입니다</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="footer">
            <div id="icon-wrapper">
                <img src="../static/image/home.png" onclick="window.location.reload()"
                     onmouseover="this.src='../static/image/home2.png'"
                     onmouseout="this.src='../static/image/home.png'">

                <img src="../static/image/search.png"
                     onmouseover="this.src='../static/image/search2.png'"
                     onmouseout="this.src='../static/image/search.png'">

                <img src="../static/image/add_feed.png"
                     onmouseover="this.src='../static/image/add_feed2.png'"
                     onmouseout="this.src='../static/image/add_feed.png'">

                <img src="../static/image/like.png"
                     onmouseover="this.src='../static/image/like2.png'"
                     onmouseout="this.src='../static/image/like.png'">

                <img src="../static/image/user.png"
                     onmouseover="this.src='../static/image/user2.png'"
                     onmouseout="this.src='../static/image/user.png'">
            </div>
        </div>
    </div>
</body>
</html>